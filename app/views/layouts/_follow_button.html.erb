<%# レストラン一覧表示の時に用いるレビューボタン %>
<div class="follow-button mb-3">
  
<% if current_user.reviewings?(restaurant) %>
<%# すでにレビューしている場合はlikes#destroyへ飛ばす %>
  <%= form_with(model: current_user.likes.find_by(restaurant_id: restaurant.id), local: true, method: :delete) do |f| %>
    <%= hidden_field_tag :restaurant_id, restaurant.id %>
    <%= f.submit 'レビューを削除する', class: 'btn btn-block btn-danger' %>
  <% end %>
  
<% else %>
<%# まだレビューしていない場合はlikes#newへ飛ばす %>
  <%= form_with(url: review_path, local: true) do |f| %>
    <%= hidden_field_tag :restaurant_id, restaurant.id %>
    <%= f.submit 'レビューを投稿する', class: 'btn btn-block btn-success' %>
  <% end %>

<% end %>
</div>